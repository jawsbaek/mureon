# AI FinOps 엔터프라이즈 프로젝트 브리프

## 1. 배경과 문제 정의
- AI 워크로드는 고가의 GPU/TPU, 대규모 데이터, 지속적/장시간 컴퓨팅으로 기존 클라우드 워크로드 대비 비용 변동성·난이도가 큼.
- 조직은 모델/팀/피처/고객/SDLC 단계별로 비용을 이해·통제하기 어려우며, 온프렘+클라우드 혼합 환경에서 가시성과 거버넌스가 단절됨.

## 2. 목표(Outcome)
- 비용 가시성: 모델·서비스·팀·고객·세션·요청 단위의 단위경제(Unit Economics) 제공
- 최적화 실행력: LLM 라우팅·캐싱·GPU 권장·라이트사이징 등 비용 절감 액션을 권장/자동화
- 거버넌스: 쇼백/차지백, 예산·경보, 데이터 주권/규제 준수, 변경 감사

## 3. 범위
### In-Scope (MVP)
- AnyCost형 수집/표준화(클라우드 청구/Usage, 온프렘 Slurm/K8s/Prometheus, LLM 제공자 메트릭)
- 단위경제 대시보드(모델/요청/세션/고객/피처/SDLC)
- 비용 이상탐지 v1 + 근본원인(RCA: 배포/프롬프트 길이/모델 버전 상관)
- LLM 라우팅 v1(비용·지연 기반, 응답/임베딩 캐시, 폴백)
- GPU 권장 v1(잡 프로파일 기반 타입 추천 + 스팟+체크포인트 템플릿)
- 쇼백/예산 경보(팀/제품)
### Out-of-Scope (MVP 이후)
- 고급 차지백(계약/크레딧/변동 단가), 정교한 코스트 예측·시뮬, SLA 기반 GPU 스케줄러, IDE 플러그인 등

## 4. 대상 사용자 및 페르소나
- FinOps/재무: 비용 통제, 예산/쇼백, ROI 관점 리포팅
- 엔지니어/플랫폼: 라우팅 정책, GPU 스케줄링/조달, 성능-비용 트레이드오프 의사결정
- 제품/리더십: 고객/피처/세그먼트별 단위경제, 투자 우선순위

## 5. 가치 제안(USP)
- 하이브리드(온프렘+멀티클라우드) AnyCost 수집과 표준화 스키마
- AI 특화 코스트 모델(토큰·컨텍스트·GPU시간·캐시 히트 등)과 실행형 권장(라우팅·스팟+체크포인트)
- 정책/거버넌스 내재화: 데이터 주권, 규제 맵핑, 변경 감사, 롤 기반 접근

## 6. 핵심 기능(세 축)
### Agent FinOps
- 태깅/차원 보정, 공유비용 드라이버 배분(GPU시간/토큰/IO/네트워크)
- 단위경제 대시보드, 쇼백/예산/경보, 실시간 이상탐지+RCA
### LLM FinOps
- 비용·지연·품질 SLO 기반 라우팅 정책, 폴백, 섀도/AB 실험
- 응답/임베딩 캐시, 프롬프트 압축/요약, 컨텍스트 최적화
### GPU FinOps
- 온프렘+클라우드 용량/조달 믹스(예약/스팟/온디맨드), 체크포인팅 주기
- 잡 프로파일 기반 GPU 타입/구성 권장, MIG/멀티테넌시, 데이터 로컬리티 고려

## 7. MVP(8–12주) 산출물
- 공통 스키마/수집 커넥터(클라우드 1종 + 온프렘 1종 + LLM 제공자 1종)
- 단위경제 대시보드 v1, 쇼백 리포트, 예산 초과 경보
- 이상탐지 v1(스파이크), 라우팅 v1(비용·지연·캐시·폴백), GPU 권장 v1
- API/SDK(수집·질의·권장·정책), RBAC/감사 로그 기본

## 8. KPI
- 비용: 요청/세션/고객/모델당 비용, GPU 시간당 비용, 스팟 절감률, 캐시 히트율
- 성능: p95 지연, 온라인 품질 점수, 라우팅 적중율
- 효율: GPU Util%, 프리엠프 손실률, 재시작(체크포인트) 시간
- 거버넌스: 태그 충족률, 예산 준수율, 주권·보안 위반 0건

## 9. 상위 아키텍처(개요)
- 수집: 청구/Usage, 프로메테우스/Slurm/K8s, LLM 제공자 메트릭, OTel 로그/트레이스
- 정규화/보안: 공통 스키마, 태그 자동추론, PII 마스킹/도메인 파티셔닝
- 저장: 데이터 레이크 + OLAP(ClickHouse/BigQuery/Snowflake), 핫 캐시
- 엔진: 코스트 모델·공유비용 배분, 이상탐지, 라우팅 정책, 권장(스팟·체크포인트·라이트사이징)
- 인터페이스: API/SDK, 롤별 대시보드, 알림(슬랙/이메일)

## 10. 일정(예시)
- 0–2주: 스키마/커넥터 PoC, 태그 보정, 대시보드 골격
- 3–5주: 코스트 모델 v1, 단위경제/쇼백, 이상탐지 v1
- 6–8주: 라우팅 v1, GPU 권장 v1, 예산 경보
- 9–12주: 보안/RBAC/감사, 성능 튜닝, 온프렘 확장, 파일럿

## 11. 리스크와 대응
- 데이터 품질/누락 태그 → 자동추론/검증 룰, 수집 표준 강제
- 프라이버시/주권 → PII 마스킹, 리전 격리, 접근 통제
- 벤더 락인 → AnyCost/정책 추상화, 멀티 벤더 커넥터
- 품질-비용 충돌 → 오프라인 평가+섀도/AB로 정책 피드백 루프

## 12. 참고 자료
- AI 비용 최적화 전략 인사이트 반영: [CloudZero: AI Cost Optimization](https://www.cloudzero.com/blog/ai-cost-optimization/)


